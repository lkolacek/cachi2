
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../generic/">
      
      
        <link rel="next" href="../npm/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>gomod - Hermeto</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#gomod" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Hermeto" class="md-header__button md-logo" aria-label="Hermeto" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Hermeto
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              gomod
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="green"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="green"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/hermetoproject/hermeto" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    hermetoproject/hermeto
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Hermeto" class="md-nav__button md-logo" aria-label="Hermeto" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Hermeto
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hermetoproject/hermeto" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    hermetoproject/hermeto
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Package managers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Package managers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bundler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    bundler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cargo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    cargo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../generic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    generic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    gomod
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    gomod
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#specifying-modules-to-process" class="md-nav__link">
    <span class="md-ellipsis">
      Specifying modules to process
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-fetched-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Using fetched dependencies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gomod-flags" class="md-nav__link">
    <span class="md-ellipsis">
      gomod flags
    </span>
  </a>
  
    <nav class="md-nav" aria-label="gomod flags">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-cgo-disable" class="md-nav__link">
    <span class="md-ellipsis">
      --cgo-disable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deprecated-flags" class="md-nav__link">
    <span class="md-ellipsis">
      Deprecated flags
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendoring" class="md-nav__link">
    <span class="md-ellipsis">
      Vendoring
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understanding-reported-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding reported dependencies
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understanding reported dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gomod-vs-go-package" class="md-nav__link">
    <span class="md-ellipsis">
      gomod vs go-package
    </span>
  </a>
  
    <nav class="md-nav" aria-label="gomod vs go-package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-match-a-package-to-a-module" class="md-nav__link">
    <span class="md-ellipsis">
      How to match a package to a module?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#in-the-source-tree-what-are-modules-what-are-packages" class="md-nav__link">
    <span class="md-ellipsis">
      In the source tree, what are modules? What are packages?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stdlib-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      stdlib dependencies
    </span>
  </a>
  
    <nav class="md-nav" aria-label="stdlib dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-identifies-stdlib-dependencies-in-the-go-package-list" class="md-nav__link">
    <span class="md-ellipsis">
      What identifies stdlib dependencies in the go-package list?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#missing-checksums" class="md-nav__link">
    <span class="md-ellipsis">
      Missing checksums
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#go-121-since-v050" class="md-nav__link">
    <span class="md-ellipsis">
      Go 1.21+ (since v0.5.0)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../npm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    npm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pip/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pip
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../yarn_classic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    yarn classic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../yarn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    yarn berry
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#specifying-modules-to-process" class="md-nav__link">
    <span class="md-ellipsis">
      Specifying modules to process
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-fetched-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Using fetched dependencies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gomod-flags" class="md-nav__link">
    <span class="md-ellipsis">
      gomod flags
    </span>
  </a>
  
    <nav class="md-nav" aria-label="gomod flags">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-cgo-disable" class="md-nav__link">
    <span class="md-ellipsis">
      --cgo-disable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deprecated-flags" class="md-nav__link">
    <span class="md-ellipsis">
      Deprecated flags
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vendoring" class="md-nav__link">
    <span class="md-ellipsis">
      Vendoring
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#understanding-reported-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Understanding reported dependencies
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understanding reported dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gomod-vs-go-package" class="md-nav__link">
    <span class="md-ellipsis">
      gomod vs go-package
    </span>
  </a>
  
    <nav class="md-nav" aria-label="gomod vs go-package">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-match-a-package-to-a-module" class="md-nav__link">
    <span class="md-ellipsis">
      How to match a package to a module?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#in-the-source-tree-what-are-modules-what-are-packages" class="md-nav__link">
    <span class="md-ellipsis">
      In the source tree, what are modules? What are packages?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stdlib-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      stdlib dependencies
    </span>
  </a>
  
    <nav class="md-nav" aria-label="stdlib dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-identifies-stdlib-dependencies-in-the-go-package-list" class="md-nav__link">
    <span class="md-ellipsis">
      What identifies stdlib dependencies in the go-package list?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#missing-checksums" class="md-nav__link">
    <span class="md-ellipsis">
      Missing checksums
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#go-121-since-v050" class="md-nav__link">
    <span class="md-ellipsis">
      Go 1.21+ (since v0.5.0)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/hermetoproject/hermeto/edit/main/docs/gomod.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/hermetoproject/hermeto/raw/main/docs/gomod.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="gomod">gomod<a class="headerlink" href="#gomod" title="Permanent link">&para;</a></h1>
<p><a href="https://go.dev/ref/mod">https://go.dev/ref/mod</a></p>
<ul>
<li><a href="#specifying-modules-to-process">Specifying modules to process</a></li>
<li><a href="#using-fetched-dependencies">Using fetched dependencies</a></li>
<li><a href="#gomod-flags">gomod flags</a></li>
<li><a href="#vendoring">Vendoring</a></li>
<li><a href="#understanding-reported-dependencies">Understanding reported dependencies</a></li>
<li><a href="#go-121-since-v050">Go 1.21+</a></li>
</ul>
<h2 id="specifying-modules-to-process">Specifying modules to process<a class="headerlink" href="#specifying-modules-to-process" title="Permanent link">&para;</a></h2>
<pre><code class="language-shell">hermeto fetch-deps \
  --source ./my-repo \
  --output ./hermeto-output \
  '&lt;modules JSON&gt;'
</code></pre>
<p>Module<sup id="fnref:misnomer"><a class="footnote-ref" href="#fn:misnomer">1</a></sup> JSON:</p>
<pre><code class="language-jsonc">{
  // &quot;gomod&quot; tells Hermeto to process a go module
  &quot;type&quot;: &quot;gomod&quot;,
  // path to the module (relative to the --source directory)
  // defaults to &quot;.&quot;
  &quot;path&quot;: &quot;.&quot;
}
</code></pre>
<p>The main argument accepts alternative forms of input, see <a href="../usage/#pre-fetch-dependencies">usage: pre-fetch-dependencies</a>.</p>
<h2 id="using-fetched-dependencies">Using fetched dependencies<a class="headerlink" href="#using-fetched-dependencies" title="Permanent link">&para;</a></h2>
<p>See also <a href="../usage/">usage.md</a> for a complete example of Hermeto usage.</p>
<p>Hermeto downloads the required modules into the deps/gomod/ subpath of the output directory (<code>hermeto-output/deps/gomod</code>).
Further down the file tree, at <code>hermeto-output/deps/gomod/pkg/mod</code>, is a directory formatted as the Go
<a href="https://go.dev/ref/mod#module-cache">module cache</a>.</p>
<pre><code class="language-text">hermeto-output/deps/gomod/pkg/mod
└── cache
    └── download
        ├── github.com
        │   └── ...
        └── golang.org
            └── ...
</code></pre>
<p>To use this module cache during your build, set the GOMODCACHE environment variable. Hermeto generates GOMODCACHE along
with other expected environment variables for you. See <a href="../usage/#generate-environment-variables">usage: generate environment variables</a> for more
details.</p>
<p>For more information on Go's environment variables:</p>
<pre><code class="language-shell">go help environment
</code></pre>
<p>Note that the deps/gomod/ layout described above does not apply when using <a href="#vendoring">vendoring</a>. With vendoring
enabled, deps/gomod/ will be an empty directory. Instead, dependencies will be inside the vendor subdirectory of your
module.</p>
<pre><code class="language-text">my-repo
└── vendor
    ├── github.com
    │   └── ...
    ├── golang.org
    │   └── ...
    └── modules.txt
</code></pre>
<p>Go will use the vendored dependencies automatically, but it's not a bad idea to set the environment variables generated
by Hermeto anyway.</p>
<h2 id="gomod-flags">gomod flags<a class="headerlink" href="#gomod-flags" title="Permanent link">&para;</a></h2>
<p>The <code>hermeto fetch-deps</code> command accepts the following gomod-related flags:</p>
<h3 id="-cgo-disable">--cgo-disable<a class="headerlink" href="#-cgo-disable" title="Permanent link">&para;</a></h3>
<p>Makes Hermeto internally disable <a href="https://pkg.go.dev/cmd/cgo">cgo</a> while processing your Go modules. Typically, you would
want to use this flag if your modules <em>do</em> use C code and Hermeto is failing to process them. Hermeto will not attempt to
disable cgo in your build (nor should you disable it yourself if you rely on C).</p>
<p>Disabling cgo should not prevent Hermeto from fetching your Go dependencies as usual. Note that Hermeto will not make any
attempts to fetch missing C libraries. If required, you would need to get them through other means.</p>
<h3 id="deprecated-flags">Deprecated flags<a class="headerlink" href="#deprecated-flags" title="Permanent link">&para;</a></h3>
<ul>
<li><code>--gomod-vendor</code> (deprecated in <em>v0.11.0</em>)</li>
<li><code>--gomod-vendor-check</code> (deprecated in <em>v0.11.0</em>)</li>
<li><code>--force-gomod-tidy</code> (deprecated in <em>v0.18.0</em>)</li>
</ul>
<p>All of them are deprecated and will have no effect when set. They are only kept for backwards
compatibility reasons and will be removed in future releases.</p>
<h2 id="vendoring">Vendoring<a class="headerlink" href="#vendoring" title="Permanent link">&para;</a></h2>
<p>Go supports <a href="https://go.dev/ref/mod#vendoring">vendoring</a> to store the source code of all dependencies in the vendor/
directory alongside your module. Before go 1.17, <code>go mod vendor</code> used to download fewer dependencies than
<code>go mod download</code>. Starting with 1.17, that is no longer true.</p>
<p>We generally discourage vendoring, but Hermeto does support processing repositories that contain vendored content. In
this case, instead of a regular prefetching of dependencies, Hermeto will only validate if the contents of the vendor
directory are consistent with what <code>go mod vendor</code> would produce.</p>
<h2 id="understanding-reported-dependencies">Understanding reported dependencies<a class="headerlink" href="#understanding-reported-dependencies" title="Permanent link">&para;</a></h2>
<p>Hermeto reports two (arguably three) different types of dependencies in the generated SBOM for your Go modules:</p>
<ul>
<li><strong>gomod</strong> dependencies (Go modules)</li>
<li><strong>go-package</strong> dependencies (Go packages)</li>
<li>from the downloaded modules</li>
<li>from the <a href="#stdlib-dependencies">standard library</a></li>
</ul>
<h3 id="gomod-vs-go-package">gomod vs go-package<a class="headerlink" href="#gomod-vs-go-package" title="Permanent link">&para;</a></h3>
<p>Best explained by the Go <a href="https://go.dev/ref/mod#modules-overview">modules documentation</a>:</p>
<blockquote>
<p>A module is a collection of packages that are released, versioned, and distributed together.</p>
</blockquote>
<p>Your Go code imports individual <em>packages</em>, which come from <em>modules</em>. You might import a single package from a module
that provides many, but Go (and Hermeto) has to download the whole module anyway. Effectively, modules are the smallest
"unit of distribution." Go does have the ability to list the individual packages that your project imports. Hermeto makes
use of this ability to report both the downloaded modules and the required packages.</p>
<p>The list of <strong>go-package</strong> dependencies reported by Hermeto is the full set of packages (transitively) required by your
project. <em>⚠ If any of your module dependencies is <a href="#missing-checksums">missing a checksum</a> in go.sum, the list may be
incomplete.</em></p>
<p>The list of <strong>gomod</strong> dependencies is the set of modules that Hermeto downloaded to satisfy the go-package dependencies.</p>
<p>Note that versioning applies to modules, not packages. When reporting the versions of Go packages, Hermeto uses the
version of the module that provides the package.</p>
<h4 id="how-to-match-a-package-to-a-module">How to match a package to a module?<a class="headerlink" href="#how-to-match-a-package-to-a-module" title="Permanent link">&para;</a></h4>
<p>Borrowing from the <a href="https://go.dev/ref/mod#modules-overview">modules documentation</a> again:</p>
<blockquote>
<p>For example, the module "golang.org/x/net" contains a package in the directory "html". That package’s path is
  "golang.org/x/net/html"</p>
</blockquote>
<p>The name of a package starts with the name of the module that provides it.</p>
<h4 id="in-the-source-tree-what-are-modules-what-are-packages">In the source tree, what are modules? What are packages?<a class="headerlink" href="#in-the-source-tree-what-are-modules-what-are-packages" title="Permanent link">&para;</a></h4>
<p>To simplify a little:</p>
<ul>
<li>Does the directory have a <code>go.mod</code> file? It's a module (provides packages).</li>
<li>Does the directory have any <code>*.go</code> files? It's a package (is importable).</li>
<li>Does it have both? It's both a module and a package.</li>
</ul>
<h3 id="stdlib-dependencies">stdlib dependencies<a class="headerlink" href="#stdlib-dependencies" title="Permanent link">&para;</a></h3>
<p>Go is able to list even the standard library packages that your project imports. Hermeto exposes these as <strong>go-package</strong>
dependencies, with caveats. Hermeto uses some version of Go to list the dependencies. This may or may not be the same
version that you will use to build your project. We do not presume that the versions would be the same, hence why:</p>
<ul>
<li>the reported stdlib packages may be slightly inaccurate (e.g. new packages in new Go versions)</li>
<li>the versions of stdlib packages are not reported</li>
</ul>
<h4 id="what-identifies-stdlib-dependencies-in-the-go-package-list">What identifies stdlib dependencies in the go-package list?<a class="headerlink" href="#what-identifies-stdlib-dependencies-in-the-go-package-list" title="Permanent link">&para;</a></h4>
<ul>
<li>does not have a version</li>
<li>the name does not start with a hostname</li>
<li><code>io/fs</code> - standard library</li>
<li><code>golang.org/x/net</code> - external</li>
</ul>
<h3 id="missing-checksums">Missing checksums<a class="headerlink" href="#missing-checksums" title="Permanent link">&para;</a></h3>
<p>Go stores the checksums of all your dependency modules in the <a href="https://go.dev/ref/mod#go-sum-files">go.sum file</a>. Go typically manages this
file entirely on its own, but if any of your dependencies do end up missing, it can cause issues for Hermeto and for
Go itself.</p>
<p>For Hermeto, a missing checksum means that the offending module gets downloaded without checksum verification (or with
partial checksum verification - Hermeto does consult the <a href="https://go.dev/ref/mod#checksum-database">Go checksum database</a>). Due to <code>go list</code> behavior,
it also means that the <a href="#gomod-vs-go-package">go-package</a> dependency listing may be incomplete<sup id="fnref:why-incomplete"><a class="footnote-ref" href="#fn:why-incomplete">2</a></sup>.</p>
<!-- TODO: link the hermeto:missing_hash:in_file property once the taxonomy doc exists -->

<p>For Go, a missing checksum will cause the <code>go build</code> or <code>go run</code> commands to fail.</p>
<p>Please make sure to keep your go.sum file up to date, perhaps by incorporating the <code>go mod tidy</code> command in your dev
workflow.</p>
<h3 id="go-121-since-v050">Go 1.21+ <em>(since v0.5.0)</em><a class="headerlink" href="#go-121-since-v050" title="Permanent link">&para;</a></h3>
<p>Starting with <a href="https://tip.golang.org/doc/go1.21">Go 1.21</a>, Go changed the meaning of the <code>go 1.X</code> directive in
  that it now specifies the <a href="https://go.dev/ref/mod#go-mod-file-go">minimum required version</a> of Go
  rather than a suggested version as it originally did. The format of the version string in the
  <code>go</code> directive now also includes the micro release and if you don't include the micro release in
  your <code>go.mod</code> file yourself (i.e. you only specify the language release) Go will try to correct
  it automatically inside the file. Last but not least, Go 1.21 also introduced a new keyword
  <a href="https://go.dev/ref/mod#go-mod-file-toolchain"><code>toolchain</code></a> to the <code>go.mod</code> file. What this all
  means in practice for end users is that you may not be able to process your <code>go.mod</code> file with an
  older version of Go (and hence older hermeto) as you could in the past for various reasons.
  Many projects bump their required Go toolchain's micro release as soon as it becomes available
  upstream (i.e. not waiting for distributions to bundle them properly). This caused problems in
  version <em>v0.5.0</em> because the container image's version simply may not have been high enough to
  process a given project's <code>go.mod</code> file. Therefore, version <em>v0.7.0</em> introduced a mechanism to
  always rely on the origin 0th release of a toolchain (e.g. 1.21.0) and use the <code>GOTOOLCHAIN=auto</code>
  setting to instruct Go to fetch any toolchain as specified by the <code>go.mod</code> file automatically,
  hence allowing us to keep up with frequent micro version bumps. <strong>Note that such a language
  version would still need to be officially marked as supported by hermeto, i.e. we'd not allow Go
  to fetch e.g. a 1.22 toolchain if the maximum supported Go version by hermeto were 1.21!</strong></p>
<div class="footnote">
<hr />
<ol>
<li id="fn:misnomer">
<p>You may have noticed a slight naming issue. You use the main argument, also called PKG, to specify a <em>module</em> to
  process. Even worse, Go has packages as well (see <a href="#gomod-vs-go-package">gomod vs go-package</a>). What gives?
  As far as we know, most languages/package managers use the opposite naming. For example, in <a href="https://docs.python.org/3/tutorial/modules.html">Python</a>,
  modules are <code>*.py</code> files, packages are collections of modules. In <a href="https://docs.npmjs.com/about-packages-and-modules">npm</a>, modules are directories/files
  you can <code>require()</code>, packages are the top-level directories with <code>package.json</code>. In Hermeto, we stick to the more
  common naming.&#160;<a class="footnote-backref" href="#fnref:misnomer" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:why-incomplete">
<p>When a module does not have a checksum in go.sum, the <code>go list</code> command returns only basic
  information and an error for the packages from said module. Go doesn't return any information about the dependencies
  of the affected packages. This can cause Hermeto to miss the transitive package dependencies of packages from
  checksum-less modules.&#160;<a class="footnote-backref" href="#fnref:why-incomplete" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "content.tooltips", "navigation.sections", "search.share", "search.suggest"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>